<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
        <link rel="stylesheet" href="CSS/style.css">
        <title>House loyalty</title>
    </head>
    <body>
      <header>
        <div class="d-flex  justify-content-between m-5 align-items-center">
          <div class="d-inline-flex flex-row">
            <img id="logo" src="img/DIG_Home_h1.png" alt="logo TGIF">
            <h1>Data Insight Group Logo </h1>
          </div>
          <div class="mr-5 d-inline-flex" id="email">
            <div id="icon-email">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-envelope" viewBox="0 0 16 16">
                <path d="M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4Zm2-1a1 1 0 0 0-1 1v.217l7 4.2 7-4.2V4a1 1 0 0 0-1-1H2Zm13 2.383-4.708 2.825L15 11.105V5.383Zm-.034 6.876-5.64-3.471L8 9.583l-1.326-.795-5.64 3.47A1 1 0 0 0 2 13h12a1 1 0 0 0 .966-.741ZM1 11.105l4.708-2.897L1 5.383v5.722Z"/>
              </svg>
            </div>
            <a href="mailto:info@dataindightgroup.net" class="email" >info@dataindightgroup.net</a>
          </div>  
        </div>  
      </header>
      <nav class="navbar navbar-expand-lg navbar-light bg-light border border-secondary m-5">
        <div class="d-flex flex-row align-items-center">
          <div class="ms-3 mb-1">
            <a class="navbar-brand" href="home-page.html">Home</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
              <span class="navbar-toggler-icon"></span>
            </button>
          </div>
          <div class="collapse navbar-collapse" id="navbarNavDropdown">
            <ul class="navbar-nav">
              <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                  Congress 113
                </a>
                <ul class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                  <li><a class="dropdown-item" href="house-page.html">House</a></li>
                  <li><a class="dropdown-item" href="senate-page.html">Senate</a></li>
                </ul>
              </li>
            </ul>
          </div>
          <div class="collapse navbar-collapse" id="navbarNavDropdown">
            <ul class="navbar-nav">
              <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                  Attendance
                </a>
                <ul class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                  <li><a class="dropdown-item" href="house-attendance.html">House</a></li>
                  <li><a class="dropdown-item" href="senate-attendance.html">Senate</a></li>
                </ul>
              </li>
            </ul>
          </div>
          <div class="collapse navbar-collapse" id="navbarNavDropdown">
            <ul class="navbar-nav">
              <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                  Party Loyalty
                </a>
                <ul class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                  <li><a class="dropdown-item" href="house-party-loyalty.html">House</a></li>
                  <li><a class="dropdown-item" href="senate-party-loyalty.html">Senate</a></li>
                </ul>
              </li>
            </ul>
          </div>
        </div>
      </nav>
      <main class="m-5">
        <div class="container-fluid" id="app">
          <div class="row">
            <div class="col-12 col-md-6">
              <h2>Party Loyalty</h2>
                <p>Those who consider themselves to be strong partisans, strong Democrats and strong Republicans respectively, tend to be the most faithful in voting for their party's nominee for office and legislation that backs their party's agenda. </p>
            </div>
            <div class="col-12 col-md-6">
              <h3 class="d-flex justify-content-end">House at a glance</h3>
              <table class="table text-center border" id="loyalty">
                <tbody>
                  <tr> <th> Party </th> <th> No. of Representatives </th> <th> % missed votes </th> </tr>
                  <tr> <td> Republican </td> <td> {{statistics.Republicans}} </td> <td> {{statistics.prom_republic}}% </td> </tr>
                  <tr> <td> Democrat </td> <td> {{statistics.Democrats}} </td> <td> {{statistics.prom_democrats}}% </td> </tr>
                  <tr> <td> Independet </td> <td> {{statistics.Independents}} </td> <td> {{statistics.prom_indep}}% </td> </tr>                    
                  <tr> <td> TOTAL </td> <td> {{statistics.Independents + statistics.Republicans + statistics.Democrats}} </td> <td> {{parseFloat((statistics.prom_republic + statistics.prom_democrats + statistics.prom_indep)/2).toFixed(2)}}% </td> </tr>
                </tbody>
              </table>
            </div>
          </div>
          <hr class="mt-5 mb-5">
          <div class="row">
            <div class="col-12 col-md-6">  
              <h2>Least Loyal</h2>
              <table class="table text-center border">
                  <thead>
                      <tr>
                        <th>Name</th>
                        <th>Number Party Votes</th>
                        <th>% Party Votes</th>
                      </tr>
                  </thead>
                  <tbody>
                    <tr v-for="(value, key) in partyInfo3">
                      <td> <a v-bind:href='value.url'>{{value.first_name}} {{value.middle_name}} {{value.last_name}}</a></td> 
                      <td>{{Math.round((value.votes_with_party_pct*value.total_votes)/100)}}</td>
                      <td>{{value.votes_with_party_pct}}%</td>
                    </tr>
                  </tbody>
              </table>
            </div>
            <div class="col-12 col-md-6">
              <h2>Most Loyal</h2>
              <table class="table text-center border">
                <thead>
                    <tr>
                      <th>Name</th>
                      <th>Number Party Votes</th>
                      <th>% Party Votes</th>
                    </tr>
                </thead>
                <tbody>
                  <tr v-for="(value, key) in partyInfo4">
                    <td> <a v-bind:href='value.url'>{{value.first_name}} {{value.middle_name}} {{value.last_name}}</a></td> 
                    <td>{{Math.round((value.votes_with_party_pct*value.total_votes)/100)}}</td>
                    <td>{{value.votes_with_party_pct}}%</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div> 
        </div>
      </main>
      <footer class="border border-secondary m-5 d-flex justify-content-center align-items-center">
        <p class="font-weight-bolder">Â© 2021 Data Insight Group | All Rights Reserved</p>
      </footer>
      <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
      <script src="JavaScript/statistics.js"></script> 
      <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js" integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB" crossorigin="anonymous"></script>
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script>         
    </body>
</html>